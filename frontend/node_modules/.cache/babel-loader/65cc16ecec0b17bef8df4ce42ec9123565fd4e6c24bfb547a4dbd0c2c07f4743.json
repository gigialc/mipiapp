{"ast":null,"code":"import _regeneratorRuntime from\"/Users/georgina/DestigFemmeDemoPi/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/georgina/DestigFemmeDemoPi/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/georgina/DestigFemmeDemoPi/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Created by Georgina Alacaraz\nimport{onCancel,onError,onReadyForServerApproval,onReadyForServerCompletion}from\"../components/Payments\";import Header from\"../components/Header\";import Typography from\"@mui/material/Typography\";import{UserContext}from\"../components/Auth\";import React,{useEffect,useState}from\"react\";import axios from'axios';import{useNavigate}from'react-router-dom';import{useLocation}from'react-router-dom';import{Paper,Grid,Avatar}from'@mui/material';// Make TS accept the existence of our window.__ENV object - defined in index.html:\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var _window=window;var backendURL=_window.__ENV&&_window.__ENV.backendURL;var axiosClient=axios.create({baseURL:\"\".concat(backendURL),timeout:20000,withCredentials:true});var config={headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}};export default function PublicProfile(){var _location$state;var _ref=React.useContext(UserContext),user=_ref.user,saveUser=_ref.saveUser,showModal=_ref.showModal,saveShowModal=_ref.saveShowModal,onModalClose=_ref.onModalClose;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),createCommunityData=_useState2[0],setCreateCommunityData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedCommunity=_useState4[0],setSelectedCommunity=_useState4[1];// Moved here\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),community=_useState6[0],setCommunity=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),userData=_useState8[0],setUserData=_useState8[1];var _useState9=useState(user.username||\"anonymous\"),_useState10=_slicedToArray(_useState9,2),username=_useState10[0],setUsername=_useState10[1];var _useState11=useState(user.bio||\"No bio yet\"),_useState12=_slicedToArray(_useState11,2),bio=_useState12[0],setBio=_useState12[1];var _useState13=useState(user.coinbalance||0),_useState14=_slicedToArray(_useState13,2),coins=_useState14[0],setCoins=_useState14[1];var location=useLocation();var communityId=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.communityId;var navigate=useNavigate();var orderProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(memo,amount,paymentMetadata){var paymentData,callbacks,payment;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(user.uid===\"\")){_context.next=2;break;}return _context.abrupt(\"return\",saveShowModal(true));case 2:// Define a state to track the selected community\npaymentData={amount:amount,memo:memo,metadata:paymentMetadata};callbacks={onReadyForServerApproval:onReadyForServerApproval,onReadyForServerCompletion:onReadyForServerCompletion,onCancel:onCancel,onError:onError};_context.next=6;return window.Pi.createPayment(paymentData,callbacks);case 6:payment=_context.sent;console.log(payment);case 8:case\"end\":return _context.stop();}}},_callee);}));return function orderProduct(_x,_x2,_x3){return _ref2.apply(this,arguments);};}();useEffect(function(){if(!communityId)return;axiosClient.get(\"/community/community/\".concat(communityId)).then(function(response){setCommunity(response.data);setUserData(response.data);}).catch(function(error){console.error(error);});},[communityId]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Paper,{style:{padding:16,margin:'16px auto',maxWidth:600,boxShadow:'none'},children:/*#__PURE__*/_jsx(Grid,{container:true,direction:\"column\",alignItems:\"center\",justifyContent:\"center\",spacing:2,children:(community===null||community===void 0?void 0:community.user)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Avatar,{alt:community.user.username// src={community.user.avatarUrl} // Uncomment and use the actual path to the avatar image\n,sx:{width:100,height:100}// Adjust size as needed\n})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",component:\"h1\",color:\"black\",gutterBottom:true,children:[\"@\",community.user.username]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",color:\"textSecondary\",children:[community.user.coinbalance,\" \\uD83D\\uDC8E\"]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:community.user.bio||'Bio not available.'})})]})})})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}