{"ast":null,"code":"var _jsxFileName = \"/Users/georgina/DestigFemmeDemoPi/frontend/src/Shop/components/PostContent.tsx\",\n  _s = $RefreshSig$();\n//Created by Georgina Alcaraz\nimport { Box, Grid, Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { UserContext } from \"./Auth\";\nimport { onReadyForServerApproval, onReadyForServerCompletion } from \"./Payments\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst _window = window;\nconst backendURL = _window.__ENV && _window.__ENV.backendURL;\nconst axiosClient = axios.create({\n  baseURL: `${backendURL}`,\n  timeout: 20000,\n  withCredentials: true\n});\nconst config = {\n  headers: {\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*'\n  }\n};\nexport default function PostContent() {\n  _s();\n  const {\n    user,\n    saveUser,\n    showModal,\n    saveShowModal,\n    onModalClose\n  } = React.useContext(UserContext);\n  const navigate = useNavigate(); // also added this!!!!!!\n  const [createCommunityData, setCreateCommunityData] = useState(null);\n  const orderProduct = async (memo, amount, paymentMetadata) => {\n    if (user.uid === \"\") {\n      return saveShowModal(true);\n    }\n    const paymentData = {\n      amount,\n      memo,\n      metadata: paymentMetadata\n    };\n    const callbacks = {\n      onReadyForServerApproval,\n      onReadyForServerCompletion\n      //onCancel,\n      //onError\n    };\n\n    const payment = await window.Pi.createPayment(paymentData, callbacks);\n    console.log(payment);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          margin: 2,\n          color: \"#ef9a9a\",\n          style: {\n            fontWeight: 'bold'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            margin: 2,\n            color: \"#9E4291\",\n            style: {\n              fontWeight: 'bold'\n            },\n            children: \"Communities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }, this), createCommunityData ? createCommunityData.map(order => {\n            console.log(order);\n            return /*#__PURE__*/_jsxDEV(ProductCard, {\n              name: order.name,\n              description: order.description,\n              price: order.price,\n              onClickBuy: () => orderProduct(\"Community\", order.price, {\n                community_id: order._id,\n                user_id: user.uid\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 16\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(ProductCard, {\n            name: \"Loading.. .\",\n            description: \"Loading...\",\n            price: 0,\n            onClickBuy: () => console.log('Buy clicked') // Pass the createCommunityData prop here\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 7\n          }, this)\n          /* :\n           community.length === 0 ?\n           <ProductCard\n             name=\"None\"\n             description=\"No new communities\"\n             price={0}\n             onClickBuy={() => console.log('Buy clicked')} // Pass the createCommunityData prop here\n           /> */, showModal && /*#__PURE__*/_jsxDEV(SignIn, {\n            onSignIn: saveUser,\n            onModalClose: onModalClose,\n            showModal: showModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(PostContent, \"1XT/gAgK56plU9EXuYlt4aI+ayw=\", false, function () {\n  return [useNavigate];\n});\n_c = PostContent;\nvar _c;\n$RefreshReg$(_c, \"PostContent\");","map":{"version":3,"names":["Box","Grid","Typography","React","useState","useNavigate","axios","UserContext","onReadyForServerApproval","onReadyForServerCompletion","jsxDEV","_jsxDEV","_window","window","backendURL","__ENV","axiosClient","create","baseURL","timeout","withCredentials","config","headers","PostContent","_s","user","saveUser","showModal","saveShowModal","onModalClose","useContext","navigate","createCommunityData","setCreateCommunityData","orderProduct","memo","amount","paymentMetadata","uid","paymentData","metadata","callbacks","payment","Pi","createPayment","console","log","children","container","spacing","item","xs","variant","margin","color","style","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","map","order","ProductCard","name","description","price","onClickBuy","community_id","_id","user_id","SignIn","onSignIn","_c","$RefreshReg$"],"sources":["/Users/georgina/DestigFemmeDemoPi/frontend/src/Shop/components/PostContent.tsx"],"sourcesContent":["//Created by Georgina Alcaraz\nimport { Box, Grid, Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { UserContextType, MyPaymentMetadata , CommunityType} from \"./Types\";\nimport { UserContext } from \"./Auth\";\nimport { onCancel, onError, onReadyForServerApproval, onReadyForServerCompletion } from \"./Payments\";\ninterface WindowWithEnv extends Window {\n  __ENV?: {\n    backendURL: string, // REACT_APP_BACKEND_URL environment variable\n    sandbox: \"true\" | \"false\", // REACT_APP_SANDBOX_SDK environment variable - string, not boolean!\n  }\n}\n\nconst _window: WindowWithEnv = window;\nconst backendURL = _window.__ENV && _window.__ENV.backendURL;\n\n\nconst axiosClient = axios.create({ baseURL: `${backendURL}`, timeout: 20000, withCredentials: true});\nconst config = {headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*'}};\n\nexport default function PostContent() {\n  const { user, saveUser, showModal, saveShowModal, onModalClose } = React.useContext(UserContext) as UserContextType;\n  const navigate = useNavigate(); // also added this!!!!!!\n  const [createCommunityData, setCreateCommunityData] = useState<CommunityType[] | null>(null);\n\n  const orderProduct = async (memo: string, amount: number, paymentMetadata: MyPaymentMetadata) => {\n    if(user.uid === \"\") {\n      return saveShowModal(true);\n\n    }\n\n    const paymentData = { amount, memo, metadata: paymentMetadata };\n    const callbacks = {\n      onReadyForServerApproval,\n      onReadyForServerCompletion,\n      //onCancel,\n      //onError\n    }\n    const payment = await window.Pi.createPayment(paymentData, callbacks);\n    console.log(payment);\n\n  }\n\n  return (\n  \n    <Box>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <Typography variant=\"h5\" margin={2}  color=\"#ef9a9a\" style={{ fontWeight: 'bold' } }>\n          <Typography variant=\"h5\" margin={2} color=\"#9E4291\" style={{ fontWeight: 'bold' }}>\n            Communities\n        </Typography>\n      \n\n      { createCommunityData ?\n      createCommunityData.map((order) =>{    \n        console.log(order);\n        return <ProductCard \n          name={order.name}\n          description={order.description}\n          price={order.price}\n          onClickBuy={() => orderProduct(\"Community\", order.price, { community_id: order._id, user_id: user.uid })}\n        />\n      })\n      :\n      <ProductCard\n        name=\"Loading.. .\"\n        description=\"Loading...\"\n        price={0}\n        onClickBuy={() => console.log('Buy clicked')} // Pass the createCommunityData prop here\n      />\n     /* :\n      community.length === 0 ?\n      <ProductCard\n        name=\"None\"\n        description=\"No new communities\"\n        price={0}\n        onClickBuy={() => console.log('Buy clicked')} // Pass the createCommunityData prop here\n      /> */\n\n }\n\n{ showModal && <SignIn onSignIn={saveUser} onModalClose={onModalClose} showModal={showModal}/> }\n          </Typography>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}