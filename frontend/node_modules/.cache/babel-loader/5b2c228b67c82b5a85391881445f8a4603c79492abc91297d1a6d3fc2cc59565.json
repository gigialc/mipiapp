{"ast":null,"code":"import _slicedToArray from\"/Users/georgina/DestigFemmeDemoPi/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Date: 09/08/2021\n// Description: This is the main page for the Add page. It will display the header, the form, and the bottom navigation bar.\n// Created by Georgina Alacaraz\nimport React,{useContext,useState}from'react';import axios from'axios';import{TextField,Button,Stack}from'@mui/material';import{UserContext}from\"../components/Auth\";// Make TS accept the existence of our window.__ENV object - defined in index.html:\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _window=window;var backendURL=_window.__ENV&&_window.__ENV.backendURL;var axiosClient=axios.create({baseURL:\"\".concat(backendURL),timeout:20000,withCredentials:true});var config={headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}};// Add null check\nexport default function MuiForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),titleError=_useState8[0],setTitleError=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),descriptionError=_useState10[0],setDescriptionError=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),priceError=_useState12[0],setPriceError=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),titleErrorMessage=_useState14[0],setTitleErrorMessage=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),descriptionErrorMessage=_useState16[0],setDescriptionErrorMessage=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),priceErrorMessage=_useState18[0],setPriceErrorMessage=_useState18[1];var _ref=useContext(UserContext),user=_ref.user,showModal=_ref.showModal,saveShowModal=_ref.saveShowModal,onModalClose=_ref.onModalClose,addCommunityToUser=_ref.addCommunityToUser;var onTitleChange=function onTitleChange(event){setTitle(event.target.value);};var onDescriptionChange=function onDescriptionChange(event){setDescription(event.target.value);};var onPriceChange=function onPriceChange(event){setPrice(event.target.value);};var handleSubmit=function handleSubmit(event){event.preventDefault();if(title===''){setTitleError(true);setTitleErrorMessage('Title is required');}else{setTitleError(false);setTitleErrorMessage('');}if(description===''){setDescriptionError(true);setDescriptionErrorMessage('Description is required');}else{setDescriptionError(false);setDescriptionErrorMessage('');}if(price===''){setPriceError(true);setPriceErrorMessage('Price is required');}else{setPriceError(false);setPriceErrorMessage('');}if(title!==''&&description!==''&&price!==''){var data={title:title,description:description,price:price// Add null check for user\n};axiosClient.post('/community/create',data,config).then(function(response){console.log(response);saveShowModal(true);if(addCommunityToUser){// Add null check for addCommunityToUser\naddCommunityToUser(response.data);}}).catch(function(error){console.log(error);});}};var modalStyle={backgroundColor:'#FEEAEE',position:'absolute',left:'15vw',top:'40%',width:'70vw',height:'25vh',border:'1px solid pink',textAlign:'center',display:'flex',flexDirection:'column',justifyContent:'center'};var inputStyle={backgroundColor:\"white\",margin:\"8px 0\",borderRadius:\"4px\"};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',backgroundColor:'white'},children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,style:{maxWidth:'100%'},children:/*#__PURE__*/_jsxs(Stack,{spacing:4,children:[/*#__PURE__*/_jsx(TextField,{id:\"title\",label:\"Title\",variant:\"outlined\",value:title,onChange:onTitleChange,error:titleError,helperText:titleError?\"Title is required\":\"\",fullWidth:true,required:true,style:{backgroundColor:'#f8f8f8'}}),/*#__PURE__*/_jsx(TextField,{id:\"description\",label:\"Content\",variant:\"outlined\",value:description,onChange:onDescriptionChange,error:descriptionError,helperText:descriptionError?\"Content is required\":\"\",fullWidth:true,required:true,multiline:true,rows:3,style:{backgroundColor:'#f8f8f8'}}),/*#__PURE__*/_jsx(TextField,{id:\"price\",label:\"Price\",variant:\"outlined\",value:price,onChange:onPriceChange,error:priceError,helperText:priceError?\"Price is required\":\"\",required:true,style:{backgroundColor:'#f8f8f8'}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",sx:{alignSelf:'start',mt:2},style:{backgroundColor:\"#9E4291\",color:\"white\",borderRadius:\"20px\",padding:'10px 30px',textTransform:'none'},children:\"Create\"})]})}),showModal&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'rgba(255, 255, 255, 0.9)',padding:'20px',borderRadius:'10px',boxShadow:'0px 0px 10px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'light',marginBottom:'16px',color:'#333'},children:\"Your community has been created successfully!\"}),/*#__PURE__*/_jsx(Button,{onClick:onModalClose,variant:\"contained\",style:{backgroundColor:\"#9E4291\",color:\"white\",borderRadius:\"100px\",padding:'8px 32px'},children:\"Close\"})]})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}