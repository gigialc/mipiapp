{"ast":null,"code":"var _jsxFileName = \"/Users/georgina/DestigFemmeDemoPi/frontend/src/Shop/components/editProfile.tsx\",\n  _s = $RefreshSig$();\n// Date: 09/08/2021\n// Description: This is the main page for the Add page. It will display the header, the form, and the bottom navigation bar.\n// Created by Georgina Alacaraz\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { TextField, Button } from '@mui/material';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport { useEffect } from 'react';\n\n// Make TS accept the existence of our window.__ENV object - defined in index.html:\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst _window = window;\nconst backendURL = _window.__ENV && _window.__ENV.backendURL;\nconst axiosClient = axios.create({\n  baseURL: `${backendURL}`,\n  timeout: 20000,\n  withCredentials: true\n});\nconst config = {\n  headers: {\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*'\n  }\n}; // Add null check\n\nexport default function ProfileEdit() {\n  _s();\n  const [editMode, setEditMode] = useState(false);\n  const [userData, setUserData] = useState(null);\n  const [profile, setProfile] = useState({\n    username: userData === null || userData === void 0 ? void 0 : userData.username,\n    // Initial state, replace with user.username\n    bio: userData === null || userData === void 0 ? void 0 : userData.bio,\n    // Initial state, replace with userData?.bio\n    occupation: userData === null || userData === void 0 ? void 0 : userData.occupation // Initial state, replace with userData?.occupation\n  });\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setProfile(prevProfile => ({\n      ...prevProfile,\n      [name]: value\n    }));\n  };\n  const handleSave = () => {\n    axiosClient.post('/user/update', {\n      username: profile.username,\n      bio: profile.bio,\n      occupation: profile.occupation\n    }).then(response => {\n      console.log('Response data for /user/update:', response.data);\n      setEditMode(false);\n    }).catch(error => {\n      console.error('Error fetching /user/update:', error);\n    });\n  };\n  useEffect(() => {\n    axiosClient.get('/user/userInfo').then(response => {\n      console.log('Response data for /user/me:', response.data);\n      setProfile(response.data);\n    }).catch(error => {\n      console.error('Error fetching /user/me:', error);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      maxWidth: \"100%\",\n      margin: 'auto',\n      marginTop: 0\n    },\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: editMode ? /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Username\",\n            variant: \"outlined\",\n            fullWidth: true,\n            name: \"username\",\n            value: profile.username,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: \"@\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), profile.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: editMode ? /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Bio\",\n            variant: \"outlined\",\n            fullWidth: true,\n            multiline: true,\n            rows: 4,\n            name: \"bio\",\n            value: profile.bio,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: 'bold'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), \" \", profile.bio]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 5,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            onClick: () => setEditMode(!editMode),\n            onSubmit: handleSave,\n            style: {\n              padding: '6px 5px',\n              height: '25px',\n              textTransform: 'none',\n              elevation: 0,\n              backgroundColor: '#9E4291',\n              color: 'white',\n              borderRadius: '20px',\n              display: 'inline-flex',\n              marginTop: '10px'\n            },\n            children: editMode ? 'Save' : 'Edit'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(ProfileEdit, \"5b0cNztUuAgHMosmT+0m2GOjL2U=\");\n_c = ProfileEdit;\nvar _c;\n$RefreshReg$(_c, \"ProfileEdit\");","map":{"version":3,"names":["React","useState","axios","TextField","Button","Card","CardContent","Grid","Typography","useEffect","jsxDEV","_jsxDEV","_window","window","backendURL","__ENV","axiosClient","create","baseURL","timeout","withCredentials","config","headers","ProfileEdit","_s","editMode","setEditMode","userData","setUserData","profile","setProfile","username","bio","occupation","handleChange","event","name","value","target","prevProfile","handleSave","post","then","response","console","log","data","catch","error","get","style","maxWidth","margin","marginTop","children","container","spacing","item","xs","label","variant","fullWidth","onChange","fileName","_jsxFileName","lineNumber","columnNumber","fontWeight","multiline","rows","color","onClick","onSubmit","padding","height","textTransform","elevation","backgroundColor","borderRadius","display","_c","$RefreshReg$"],"sources":["/Users/georgina/DestigFemmeDemoPi/frontend/src/Shop/components/editProfile.tsx"],"sourcesContent":["// Date: 09/08/2021\n// Description: This is the main page for the Add page. It will display the header, the form, and the bottom navigation bar.\n// Created by Georgina Alacaraz\nimport React, { CSSProperties, useContext, useState } from 'react';\nimport axios from 'axios';\nimport { TextField, Button, Stack, colors, FormControl } from '@mui/material';\nimport { UserContext } from \"../components/Auth\";\nimport { UserContextType } from './Types';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport { useEffect } from 'react';\nimport { UserData } from './Types';\n\n\n// Make TS accept the existence of our window.__ENV object - defined in index.html:\ninterface WindowWithEnv extends Window {\n  __ENV?: {\n    backendURL: string, // REACT_APP_BACKEND_URL environment variable\n    sandbox: \"true\" | \"false\", // REACT_APP_SANDBOX_SDK environment variable - string, not boolean!\n  }\n}\n\nconst _window: WindowWithEnv = window;\nconst backendURL = _window.__ENV && _window.__ENV.backendURL;\n\n\nconst axiosClient = axios.create({ baseURL: `${backendURL}`, timeout: 20000, withCredentials: true});\nconst config = {headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*'}}; // Add null check\n\n\nexport default function ProfileEdit() {\n  const [editMode, setEditMode] = useState(false);\n  const [userData, setUserData] = useState<UserData | null>(null);\n  const [profile, setProfile] = useState({\n    username: userData?.username, // Initial state, replace with user.username\n    bio: userData?.bio, // Initial state, replace with userData?.bio\n    occupation: userData?.occupation, // Initial state, replace with userData?.occupation\n  });\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n    setProfile((prevProfile) => ({\n      ...prevProfile,\n      [name]: value,\n    }));\n  };\n\n  const handleSave = () => {\n    axiosClient.post('/user/update', {\n      username: profile.username,\n      bio: profile.bio,\n      occupation: profile.occupation,\n    })\n    .then((response) => {\n      console.log('Response data for /user/update:', response.data);\n      setEditMode(false); \n    })  \n    .catch((error) => {\n      console.error('Error fetching /user/update:', error);\n    });\n  };\n\n  useEffect(() => {\n    axiosClient.get('/user/userInfo')\n      .then((response) => {\n        console.log('Response data for /user/me:', response.data);\n        setProfile(response.data);\n      })  \n      .catch((error) => {\n        console.error('Error fetching /user/me:', error);\n      });\n\n    }\n  , []);\n\n\n  return (\n    <Card style={{ maxWidth: \"100%\", margin: 'auto', marginTop: 0 }}>\n      <CardContent>\n        <Grid container spacing={1}>\n          <Grid item xs={12}>\n            {editMode ? (\n              <TextField\n                label=\"Username\"\n                variant=\"outlined\"\n                fullWidth\n                name=\"username\"\n                value={profile.username}\n                onChange={handleChange}\n              />\n            ) : (\n                <Typography>\n                <span style={{ fontWeight: 'bold' }}>@</span>{profile.username}\n              </Typography>\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            {editMode ? (\n              <TextField\n                label=\"Bio\"\n                variant=\"outlined\"\n                fullWidth\n                multiline\n                rows={4}\n                name=\"bio\"\n                value={profile.bio}\n                onChange={handleChange}\n              />\n            ) : (\n                <Typography>\n                <span style={{ fontWeight: 'bold' }}></span> {profile.bio}\n              </Typography>\n            )}\n          </Grid>\n          <Grid item xs={5}>\n          <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() => setEditMode(!editMode)}\n              onSubmit={handleSave}\n              style={{ padding: '6px 5px', height: '25px', textTransform: 'none', elevation: 0, backgroundColor: '#9E4291', color: 'white', borderRadius: '20px', display: 'inline-flex', marginTop: '10px'}}\n            >\n              {editMode ? 'Save' : 'Edit'}\n            </Button>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}