{"ast":null,"code":"var _jsxFileName = \"/Users/georgina/DestigFemmeDemoPi/frontend/src/Shop/pages/create.tsx\",\n  _s = $RefreshSig$();\n// Date Created: 07/28/2021\n// Description: This is the main page for the Add page. It will display the header, the form, and the bottom navigation bar.\n// Created by Georgina Alacaraz\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport MuiBottomNavigation from '../../MuiBottomNavigation';\nimport SignIn from '../../Add/Components/SignIn';\nimport Header from '../../Add/Components/Header';\nimport MuiForm from '../../Add/Components/MuiForm';\n\n// Make TS accept the existence of our window.__ENV object - defined in index.html:\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst _window = window;\nconst backendURL = _window.__ENV && _window.__ENV.backendURL;\nconst axiosClient = axios.create({\n  baseURL: `${backendURL}`,\n  timeout: 20000,\n  withCredentials: true\n});\nconst config = {\n  headers: {\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*'\n  }\n};\nexport default function Add() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const signIn = async () => {\n    const scopes = ['username'];\n    const authResult = await window.Pi.authenticate(scopes);\n    signInUser(authResult);\n    setUser(authResult.user);\n  };\n  const signOut = () => {\n    setUser(null);\n    signOutUser();\n  };\n  const signInUser = authResult => {\n    axiosClient.post('http://localhost:3333/user/signin', {\n      authResult\n    });\n    return setShowModal(false);\n  };\n  const signOutUser = () => {\n    return axiosClient.get('/user/signout');\n  };\n  const onModalClose = () => {\n    setShowModal(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      user: user,\n      onSignIn: signIn,\n      onSignOut: signOut\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 3\n    }, this), showModal && /*#__PURE__*/_jsxDEV(SignIn, {\n      onSignIn: signIn,\n      onModalClose: onModalClose,\n      onPosts: function () {\n        throw new Error('Function not implemented.');\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MuiForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MuiBottomNavigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Add, \"7F3ln6W08puJMs22ml1OmKJPERk=\");\n_c = Add;\nvar _c;\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"names":["React","useState","axios","MuiBottomNavigation","SignIn","Header","MuiForm","jsxDEV","_jsxDEV","Fragment","_Fragment","_window","window","backendURL","__ENV","axiosClient","create","baseURL","timeout","withCredentials","config","headers","Add","_s","user","setUser","showModal","setShowModal","signIn","scopes","authResult","Pi","authenticate","signInUser","signOut","signOutUser","post","get","onModalClose","children","onSignIn","onSignOut","fileName","_jsxFileName","lineNumber","columnNumber","onPosts","Error","_c","$RefreshReg$"],"sources":["/Users/georgina/DestigFemmeDemoPi/frontend/src/Shop/pages/create.tsx"],"sourcesContent":["// Date Created: 07/28/2021\n// Description: This is the main page for the Add page. It will display the header, the form, and the bottom navigation bar.\n// Created by Georgina Alacaraz\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport MuiBottomNavigation from '../../MuiBottomNavigation';\nimport SignIn from '../../Add/Components/SignIn';\nimport Header from '../../Add/Components/Header';\nimport MuiForm from '../../Add/Components/MuiForm';\n\ntype AuthResult = {\n  accessToken: string,\n  user: {\n    uid: string,\n    username: string\n  }\n};\n\nexport type User = AuthResult['user'];\n\n// Make TS accept the existence of our window.__ENV object - defined in index.html:\ninterface WindowWithEnv extends Window {\n  __ENV?: {\n    backendURL: string, // REACT_APP_BACKEND_URL environment variable\n    sandbox: \"true\" | \"false\", // REACT_APP_SANDBOX_SDK environment variable - string, not boolean!\n  }\n}\n\nconst _window: WindowWithEnv = window;\nconst backendURL = _window.__ENV && _window.__ENV.backendURL;\n\nconst axiosClient = axios.create({ baseURL: `${backendURL}`, timeout: 20000, withCredentials: true});\nconst config = {headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*'}};\n\nexport default function Add() {\n  const [user, setUser] = useState<User | null>(null);\n  const [showModal, setShowModal] = useState<boolean>(false);\n\n  const signIn = async () => {\n    const scopes = ['username'];\n    const authResult: AuthResult = await window.Pi.authenticate(scopes);\n    signInUser(authResult);\n    setUser(authResult.user);\n  }\n\n  const signOut = () => {\n    setUser(null);\n    signOutUser();\n  }\n\n  const signInUser = (authResult: AuthResult) => {\n    axiosClient.post('http://localhost:3333/user/signin', {authResult});\n    return setShowModal(false);\n  }\n\n  const signOutUser = () => {\n    return axiosClient.get('/user/signout');\n  }\n\n  const onModalClose = () => {\n    setShowModal(false);\n  }\n\n  return (\n    <>\n  <Header user={user} onSignIn={signIn} onSignOut={signOut} />\n      \n      { showModal && \n      <SignIn onSignIn={signIn} \n      onModalClose={onModalClose} \n      onPosts={function (): void {\n        throw new Error('Function not implemented.');\n      } } /> \n      }\n      <MuiForm />\n      <MuiBottomNavigation />\n   \n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}