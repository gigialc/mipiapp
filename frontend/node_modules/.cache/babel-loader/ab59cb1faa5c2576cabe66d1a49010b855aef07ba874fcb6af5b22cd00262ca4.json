{"ast":null,"code":"import _regeneratorRuntime from\"/Users/georgina/DestigFemmeDemoPi/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/georgina/DestigFemmeDemoPi/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/georgina/DestigFemmeDemoPi/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Created by Georgina Alacaraz\nimport React,{useContext,useEffect,useState}from\"react\";import axios from'axios';import{useNavigate}from'react-router-dom';import{UserContext}from\"./Auth\";import{useLocation}from'react-router-dom';import PostCard from\"./PostCard\";import{jsx as _jsx}from\"react/jsx-runtime\";var _window=window;var backendURL=_window.__ENV&&_window.__ENV.backendURL;var axiosClient=axios.create({baseURL:\"\".concat(backendURL),timeout:20000,withCredentials:true});var config={headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}};export default function PostContent(_ref){var communityId=_ref.communityId;var _ref2=useContext(UserContext),user=_ref2.user,saveUser=_ref2.saveUser,showModal=_ref2.showModal,saveShowModal=_ref2.saveShowModal,onModalClose=_ref2.onModalClose;var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLiked=_useState4[0],setIsLiked=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),likesCount=_useState6[0],setLikesCount=_useState6[1];var location=useLocation();var postId=location.state.postId;console.log(postId);// get the posts that have the same community id as the current session\nuseEffect(function(){var fetchPosts=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axiosClient.get(\"/posts/posts1?community_id=\".concat(communityId));case 3:response=_context.sent;console.log(response.data.posts);setPosts(response.data.posts||[]);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Failed to fetch posts: \",_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchPosts(){return _ref3.apply(this,arguments);};}();fetchPosts();},[communityId]);// Empty dependency array means this effect runs once on mount\nreturn/*#__PURE__*/_jsx(\"div\",{children:posts.map(function(post){return/*#__PURE__*/_jsx(PostCard,{_id:post._id,title:post.title,description:post.description});})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}