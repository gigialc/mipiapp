{"ast":null,"code":"import _slicedToArray from\"/Users/georgina/DestigFemmeDemoPi/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from\"react\";import{useLocation,useNavigate}from'react-router-dom';import axios from'axios';import{Button,Typography}from'@mui/material';import Header from\"../components/Header\";import Posts from\"../components/posts\";import PostContent from\"../components/PostContent\";import SignIn from\"../components/SignIn\";import{UserContext}from\"../components/Auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var _window=window;var backendURL=_window.__ENV&&_window.__ENV.backendURL;var axiosClient=axios.create({baseURL:\"\".concat(backendURL),timeout:20000,withCredentials:true});var config={headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}};export default function ChatCreator(){var _ref=useContext(UserContext),user=_ref.user,saveUser=_ref.saveUser,showModal=_ref.showModal,saveShowModal=_ref.saveShowModal,onModalClose=_ref.onModalClose;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),community=_useState2[0],setCommunity=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFollowing=_useState4[0],setIsFollowing=_useState4[1];// New state to track following status\nvar navigate=useNavigate();// Hook from react-router-dom to navigate programmatically\nvar location=useLocation();var communityId=location.state.communityId;var handleNavigatePublicProfile=function handleNavigatePublicProfile(communityId){navigate(\"/PublicProfile\",{state:{communityId:communityId}});};useEffect(function(){if(!communityId)return;axiosClient.get(\"/community/community/\".concat(communityId)).then(function(response){setCommunity(response.data);}).catch(function(error){console.error(error);});},[communityId]);var handleFollow=function handleFollow(){if(isFollowing){// If already following, possibly implement \"unfollow\" logic here\nreturn;}// Assuming paymentMetadata needs to be defined or fetched before this call\nvar paymentMetadata={};// Define or update this according to your actual data structure\naxiosClient.post('/user/addUser',paymentMetadata,config).then(function(response){console.log(response);setIsFollowing(true);// Update follow status\n}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:community?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",style:{fontWeight:'bold'},children:[\"\\uD83E\\uDE77 \",community.name]})}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",style:{marginTop:'0px'},children:/*#__PURE__*/_jsxs(Button,{style:{color:'#4C4E52',textTransform:'none',padding:0,// Remove padding if you want the button to look like plain text\nminWidth:0// Use this to prevent the button from having a minimum size\n},onClick:function onClick(){return handleNavigatePublicProfile(communityId);},children:[\"@\",community.user.username]})}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",style:{marginTop:'10px'},children:community.description})]}):/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Loading community details...\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PostContent,{communityId:communityId}),/*#__PURE__*/_jsx(Posts,{communityId:communityId})]})]}),showModal&&/*#__PURE__*/_jsx(SignIn,{onSignIn:saveUser,onModalClose:onModalClose,showModal:showModal})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}